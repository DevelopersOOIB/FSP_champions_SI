FROM python:3.11.10-alpine3.20

RUN apk update \
    && \
    apk add nginx \
    && pip3 install Flask googletrans==3.1.0a0 supervisor

COPY . /var/www/html
COPY ./nginx/mytextconverter.conf /etc/nginx/http.d
RUN rm -rf /etc/nginx/http.d/default.conf
COPY supervisord.conf /etc/supervisor/conf.d/supervisord.conf

# WORKDIR /var/www/html

#ENTRYPOINT [ "/bin/sh" ]

#CMD [ "/usr/bin/supervisord" ]
